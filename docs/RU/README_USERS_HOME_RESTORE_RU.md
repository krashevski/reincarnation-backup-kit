# README_USERS_HOME_RESTORE

[üá¨üáß English](../EN/README_USERS_HOME_RESTORE_EN.md) | [üá∑üá∫ –†—É—Å—Å–∫–∏–π](README_USERS_HOME_RESTORE_RU.md)

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ / –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ Ubuntu –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
–∏–ª–∏ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–µ–º—É `/home`:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
getent passwd username
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞:
```bash
ls -ld /home/username
```

3. –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü ‚Äî `root` –∏–ª–∏ —Å—Ç–∞—Ä—ã–π UID, –∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã –≤ –¥–∞–Ω–Ω—ã—Ö:
```bash
sudo chown -R username:username /home/username`
```

> [!] –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `chown -R /home` –±–µ–∑ —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **–∏–∑–≤–µ—Å—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É Ubuntu/Linux**, –≤–æ–∑–Ω–∏–∫–∞—é—â—É—é –ø–æ—Å–ª–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ `/home`, –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–æ–º–∞—à–Ω–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤**.
–¶–µ–ª—å ‚Äî –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤—Å–ª–µ–ø—É—é, –∞ **–ø–æ–Ω—è—Ç—å –µ—ë –ø—Ä–∏—á–∏–Ω—É, –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å**, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ.
–î–æ–∫—É–º–µ–Ω—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞:
- –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫—É Ubuntu —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º `/home`
- –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
- —Ä—É—á–Ω–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ `/home`
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–æ—Å—Ç–∞–≤–µ Reincarnation Backup Kit (REBK)

## –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ Ubuntu:
- —É—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ
- –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π UID**
- –∫–∞—Ç–∞–ª–æ–≥–∏ `/home/username` –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è:
  - –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º–∏ `root:root`
  - –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º–∏ —Å—Ç–∞—Ä–æ–º—É UID, –∫–æ—Ç–æ—Ä–æ–≥–æ –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
–ü—Ä–∏–º–µ—Ä:
```bash
$ ls -ld /home/username
drwx------  root root  /home/username
```

–∏–ª–∏:
```bash
drwx------  1001 1001  /home/username
```

–≥–¥–µ UID 1001 **–Ω–µ —Å–≤—è–∑–∞–Ω —Å —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º**.

### –í–∞–∂–Ω–æ

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Ubuntu**.
–°–∏—Å—Ç–µ–º–∞ **–Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–∞–Ω–Ω—ã—Ö**, —Ç–∞–∫ –∫–∞–∫:
- `/home` –º–æ–≥ –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á—ë–Ω –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ
- –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ `chown -R` –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω–æ

## –°–∏–º–ø—Ç–æ–º—ã –ø—Ä–æ–±–ª–µ–º—ã

- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- –ø—É—Å—Ç–æ–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
- –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
  Permission denied
```
- –æ–ø–µ—Ä–∞—Ü–∏—è REBK –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ—É—Å–ø–µ—à–Ω–∞

## –ü—Ä–∏–Ω—Ü–∏–ø –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –≤—Å–µ—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- –∑–∞–ø—É—Å–∫–∞—Ç—å `chown -R /home` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
- **—Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**
- **–ø–æ–Ω—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–∞—Ç–∞–ª–æ–≥–∞**
- **–∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–ª—É—á–∞–π**

## –≠—Ç–∞–ø 1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (audit)

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
getent passwd username
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```bash
username:x:1000:1000:...:/home/username:/bin/bash
```

–û–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
- UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ø—É—Ç—å –∫ –¥–æ–º–∞—à–Ω–µ–º—É –∫–∞—Ç–∞–ª–æ–≥—É

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

```bash
ls -ld /home/username
```

–∏–ª–∏:
```bash
stat /home/username
```

–°—Ä–∞–≤–Ω–∏—Ç—å:
- –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
- UID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –¢–∏–ø–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –û–ø–∞—Å–Ω–æ—Å—Ç—å |
|---------|----------|
| `root:root` | –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ |
| —Å—Ç–∞—Ä—ã–π UID | —Å–∫—Ä—ã—Ç–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
| –∫–∞—Ç–∞–ª–æ–≥ –ø—É—Å—Ç | –≤–æ–∑–º–æ–∂–Ω–∞—è –æ—à–∏–±–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ `/home` |

## –≠—Ç–∞–ø 2. –û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å**
- –∫–∞—Ç–∞–ª–æ–≥ **–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º** (`/home/username`)
- –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞

```bash
sudo chown -R username:username /home/username
```

> [!] –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ —Ç–æ—á–µ—á–Ω–æ**, –Ω–∏–∫–æ–≥–¥–∞ –∫–æ –≤—Å–µ–º—É `/home`.

## –ó–∞—â–∏—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)

–õ—é–±—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã **–¥–æ–ª–∂–Ω—ã –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å**, –µ—Å–ª–∏:
- –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root`
- –∫–∞—Ç–∞–ª–æ–≥ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/home`
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ø—É—Ç—å –ø—É—Å—Ç –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª–µ–Ω
–≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã—Ö –æ—à–∏–±–æ–∫.

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–æ–ø—É—Å—Ç–∏–º–∞ **—Ç–æ–ª—å–∫–æ –≤ –≤–∏–¥–µ –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤**:
1. **Audit** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç—á—ë—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
2. **Fix** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —è–≤–Ω–æ–º—É —Ñ–ª–∞–≥—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî –∑–∞–ø—Ä–µ—â–µ–Ω–æ.

## –°–≤—è–∑—å —Å Reincarnation Backup Kit (REBK)

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è **–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫:
- –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ REBK
- —á–µ–∫–ª–∏—Å—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è Ubuntu

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

> [I] –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã ‚Äî —ç—Ç–æ –Ω–µ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö,
> [I] –∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ, –ø–æ–Ω–∏–º–∞–µ–º –ª–∏ –º—ã, –∫–æ–º—É –æ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç.

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∑–Ω–∞–Ω–∏–µ, —á—Ç–æ–±—ã –ø—Ä–æ–±–ª–µ–º–∞:
- –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–∞—Å—å
- –Ω–µ —Ä–µ—à–∞–ª–∞—Å—å –≤—Å–ª–µ–ø—É—é
- –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–ª–∞ –¥–∞–Ω–Ω—ã–µ

**–°—Ç–∞—Ç—É—Å:** Canonical / Stable
