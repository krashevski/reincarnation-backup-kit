#!/bin/bash
# =============================================================
# Reincarnation Backup Kit — MIT License
# Copyright (c) 2025 Vladislav Krashevsky
# Permission is hereby granted, free of charge, to any person
# obtaining a copy of this software and associated documentation
# files (the "Software"), to deal in the Software without
# restriction, including without limitation the rights to use,
# copy, modify, merge, publish, distribute, sublicense, and/or
# sell copies of the Software, subject to the following:
# The above copyright notice and this permission notice shall
# be included in all copies or substantial portions of the Software.
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND.
# =============================================================
# messages_en.sh
# Reincarnation Backup Kit — Messages Library
# Unified messages for all scripts in english
# MIT License — Copyright (c) 2025 Vladislav Krashevsky support ChatGPT
# ==============================================================

MSG[hello]="Hello, world!"
MSG[start]="Starting"

# backup-ubuntu-24.04.sh
MSG[start]="Starting system backup (Ubuntu 24.04)"
MSG[backup_started]="Backup started"
MSG[change_owner]="Changing owner of directory to"
MSG[no_dir]="Directory does not exist, check mount point."
MSG[clean_tmp]="Cleaning temporary files..."
MSG[tmp_cleaned]="Temporary files cleaned."
MSG[dir_missing]="Directory \$BACKUP_DIR not found. Please mount the disk!"
MSG[backup_pkgs]="Backing up system packages and repositories..."
MSG[pkgs_done]="System packages saved."
MSG[create_archive]="Creating archive"
MSG[archive_exists]="Archive already exists. Renaming to .old"
MSG[archive_done]="Archive created: %s"
MSG[archive_fail]="Archive creation failed"
MSG[backup_sucess]="System backup completed successfully!"
MSG[run_sudo]="The script must be run with root rights (sudo)"
MSG[step_ok]="Step completed."
MSG[step_fail]="Step completed with an error. Check the log."
MSG[log_file]="Log file: "
MSG[backup_finished]="Backup finished successfully"

# install-nvidia-cuda.sh
MSG[update]="Step 1: Updating package list"
MSG[driver_install]="Step 2: Automatic NVIDIA driver installation"
MSG[driver_check]="Step 3: Checking if NVIDIA driver is installed"
MSG[driver_error]="NVIDIA driver not found. Check installation logs."
MSG[modprobe]="Step 4: Reloading NVIDIA kernel modules"
MSG[gpu_info]="Step 5: Checking GPU and driver version"
MSG[cuda_check]="Step 6: Checking CUDA support"
MSG[cuda_manage]="To manage the CUDA Toolkit, use the optional script:"
MSG[cuda_install]="This allows you to install or uninstall the CUDA Toolkit at any time."
MSG[cuda_version]="Step 7: Checking CUDA version"
MSG[cuda_warn]="nvcc not found. CUDA may work only via driver."
MSG[cuda_smi]="Checking CUDA via nvidia-smi"
MSG[done]="Installation completed! GPU ready for Shotcut acceleration and 4K"
MSG[nvidia_ok]="nvidia-smi OK"

# backup-userdata.sh
MSG[run_sudo]="The script must be run with root rights (sudo)"

# restore-sytem.sh
MSG[help]="If ARCHIVE not specified, defaults will be used depending on system."
MSG[detect_system]="Detected system: %s %s"
MSG[not_found_dir]="❌ Directory BACKUP_DIR not found. Please mount the backup disk!"
MSG[not_supported]="❌ System %s %s is not supported yet"
MSG[not_found_script]="❌ Script %s not found or not executable!"
MSG[not_found_archive]="❌ Archive %s not found!"
MSG[running]="Running: %s %s"
MSG[link_created]="Symlink created: ~/Backups"
MSG[dispatcher_finished]="Dispatcher finished."
MSG[create_simlink]="Creating a symbolic link"
MSG[restore_finished]="Restore finished"
MSG[log_file]="Log file: %s"
MSG[not_system]="Cannot detect system (no /etc/os-release)"
MSG[dispatcher_started]="Dispatcher started %s %s"
MSG[dispatcher_finished]="Dispatcher finished successfully"
MSG[usage]="Usage: $0 [ARCHIVE]"

# check-cuda-tools.sh
MSG[installed]="CUDA Toolkit is already installed."
MSG[not_installed]="CUDA Toolkit is not installed."
MSG[install_prompt]="Do you want to install CUDA Toolkit (~2 GB)? y/n: "
MSG[remove_prompt]="Do you want to remove CUDA Toolkit? y/n: "
MSG[installing]="Installing CUDA Toolkit..."
MSG[removing]="Removing CUDA Toolkit..."
MSG[done]="Operation completed."
MSG[cuda_saved]="CUDA Toolkit saved."
MSG[cuda_installed]="CUDA Toolkit not installed."

# install-mediatools-apt.sh
MSG[start_apt]="Starting multimedia applications installation via APT/Snap"
MSG[clean_repos]="Cleaning 3rd-party repositories..."
MSG[repos_done]="Repositories cleaned. Updating package lists..."
MSG[install_packages]="Installing required packages..."
MSG[done]="Installation completed!"
MSG[deleting]="Deleting %s"

# install_mediatools_flatpak.sh
MSG[start_media]="Starting multimedia environment installation"
MSG[nvidia_detected]="NVIDIA GPU detected."
MSG[nvidia_driver_install]="NVIDIA driver not installed, installing..."
MSG[nvidia_driver_ok]="NVIDIA driver is working."
MSG[cuda_found]="CUDA Toolkit found."
MSG[cuda_install]="CUDA Toolkit not found. Installing..."
MSG[cuda_ok]="CUDA Toolkit successfully installed."
MSG[cuda_fail]="Failed to install CUDA Toolkit."
MSG[no_nvidia]="NVIDIA GPU not detected."
MSG[flatpak_install]="Flatpak not found, installing..."
MSG[flathub_add]="Adding Flathub repository..."
MSG[symlinks]="Symlinks created"
MSG[presets_created]="Shotcut presets created."
MSG[nvenc]="NVENC available: 4K will use GPU."
MSG[no_nvenc]="NVENC unavailable: 4K will use CPU."
MSG[opengl_ok]="OpenGL GPU available."
MSG[opengl_fail]="OpenGL GPU not available inside Flatpak."
MSG[finished]="Installation and configuration completed!"
MSG[driver_not]="NVIDIA driver not working"
MSG[gpu_skip]="GPU Skip in Flatpak for Shotcut..."

# backup-system.sh
MSG[distro_found]="Detected distribution: %s %s"
MSG[not system]="System not defined"
MSG[no_script]="%s %s — script %s not found or not executable"

# cron-backup-userdata.sh
MSG[low_free_space]="Low free space at %b:"
MSG[not_script_found]="Clean-backup-logs.sh not found:"
MSG[not_space_after]="Not enough space after cleaning"
MSG[dir_skip]="User directory %s not found, skipping."
MSG[rs_backup]="Rsync backup:"
MSG[archiving_changed]="Archiving changed files from"
MSG[no_new_files]="No new files to archive in"
MSG[backup_done]="Backup completed for" 

# remove-cron-backup.sh
MSG[removed_root]="Cron jobs removed from root crontab."
MSG[removed_user]="Cron jobs removed from user %s crontab."
MSG[none]="No cron jobs found."
MSG[before]="Crontab BEFORE removal:"
MSG[after]="Crontab AFTER removal:"
MSG[err_read]="Failed to read crontab for user %s (permission?)"

# add-cron-backup.sh
MSG[run_root]="The script must be run with root privileges (sudo)"
MSG[usage]="Usage: %s HH:MMMSG[username]"
MSG[invalid_format]="Invalid time format. HH:MM (e.g. 10:30)"
MSG[script_error]="Script cron-backup-userdata.sh not found or not executable."
MSG[cron_task]="Cron task for %s updated/added successfully."
MSG[current_jobs]="Current cron jobs:"
MSG[run_test]="Running a test backup right now..."
MSG[test_done]="Test backup complete. Log:"

# install.sh
MSG[installer]="=== Backup Kit Installer ==="
MSG[distro_found]="Detected distribution"
MSG[dir_created]="Directory created or already exists"
MSG[workdir_clean]="Cleaning temporary workdir"
MSG[workdir_cleaned]="Workdir cleaned"
MSG[backup_owner_fix]="Changing owner of directory"
MSG[backup_not_exist]="Directory /mnt/backups does not exist, please check mount"
MSG[path_added_bashrc]="Export PATH added to ~/.bashrc. To update PATH, run: source ~/.bashrc"
MSG[path_added_profile]="Export PATH added to ~/.profile. Relogin or run: source ~/.profile"
MSG[deps_missing]="Package not installed. Please install it"
MSG[deps_ok]="All dependencies are installed"
MSG[copy_skip]="backup_kit already exists, skipping copy"
MSG[copy_done]="backup_kit package copied"
MSG[copy_missing]="Source directory not found, skipping copy"
MSG[done]="Backup Kit installed"
MSG[path_update]="Update environment (source ~/.bashrc or source ~/.profile) or relogin"
MSG[can_run]="You can run scripts in"
MSG[scripts_list]="Scripts available for user execution:"
MSG[text_menu]="\nLaunching the Reincarnation Backup Kit text menu..."
MSG[menu_not]="\n[WARN] Script menu.sh not found or not executable. Showing standard output:"
MSG[deps_missing_list]="Missing dependencies: %s"
MSG[deps_install_try]="Attempt automatic installation…"
MSG[manager_manually]="Unknown package manager. Install manually: %s"
MSG[distro_ver_not_supported]="Ubuntu %s not supported"
MSG[distro_not_supported]="Distro %s not supported"
MSG[script_skipped]="%s not found in %s, skipped"

# restore-userdata.sh
MSG[restore_start]="Starting safe Backup Kit restore..."
MSG[error_no_script]="Restore script not found: %s"
MSG[error_no_backup]="Error: backup directory not found: %s"
MSG[ok_finished]="All restore operations completed successfully."
MSG[error_finished]="Restore finished with errors."
MSG[info_safe]="Starting safe restore (without deleting extra files)..."
MSG[recovery_warnings]="Recovery completed with warnings, please check the log"


# backup-restore-userdata.sh
MSG[error_root]="Script must be run as root (sudo)"
MSG[x_warning]="Running in graphical X-session. Local console recommended for accurate progress."
MSG[usage]="Usage: sudo %s [backup|restore]"
MSG[example_backup]="Example: sudo %s backup — for backup"
MSG[example_restore]="Example: sudo %s restore — for restore"
MSG[warn_time]="Operation may take a long time."
MSG[not_mounted]="/mnt/backups not mounted! Connect the disk and retry."
MSG[not_mounted_storage]="/mnt/storage not mounted! Connect the disk and retry."
MSG[no_users]="No users found in /home"
MSG[user_list]="Available users:"
MSG[select_user]="Enter user numbers for %s (space-separated): "
MSG[invalid_choice]="Invalid selection: %s"
MSG[rs_backup]="Rsync backup: %s -> %s"
MSG[rs_restore]="Rsync restore: %s -> %s"
MSG[no_backup_found]="No rsync backup found for %s"
MSG[no_new_files]="No new files to archive in %s"
MSG[archive_created]="Archive created: %s"
MSG[extracting_archive]="Extracting latest archive %s"
MSG[user_not_found]="User %s not found, skipping restore."
MSG[dir_missing]="Directory %s does not exist, skipping."
MSG[fresh_remove]="--fresh: removing old backup %s"
MSG[backup_done_user]="Backup completed for %s"
MSG[restore_done_user]="Restore completed for %s"
MSG[all_done]="All %s operations completed successfully."
MSG[some_failed]="Some %s operations failed. See log: %s"
MSG[run_sudo]="The script must be run with root rights (sudo)"

# hdd-setup-profiles.sh
MSG[hdd_detect]="Searching for available drives"
MSG[skip_os_disk]="Skipping OS disk: %s"
MSG[skip_archive]="Skipping %s — contains the archive section"
MSG[no_partitioning]="No disks available for partitioning!"
MSG[sel_partition]="Select a disk to partition:"
MSG[disk_selected]="Disk selected: %s"  
MSG[check_mounts]="Checking mounted partitions for %s..."
MSG[unmounting_partition]="Unmounting %s (%s)..."
MSG[unmounted_partition]="Partition %s successfully unmounted."
MSG[failed_unmount]="Failed to unmount %s!"
MSG[disabling_swap]="Disabling swap on %s..."
MSG[failed_swapoff]="Failed to disable swap on %s!"
MSG[all_partitions_unmounted]="All partitions successfully unmounted."
MSG[no_partitions_mounted]="No mounted partitions found."    
MSG[hdd_start]="Starting HDD setup and user creation..."
MSG[prompt_disk]="Enter HDD name (e.g., sdb): "
MSG[error_no_disk]="Device not found!"
MSG[warn_delete]="⚠️ WARNING: All data on the disk will be erased!"
MSG[confirm_action]="Continue? (y/n): "
MSG[prompt_user2]="Enter name of second user: "
MSG[prompt_user3]="Enter name of third user: "
MSG[disk_size]="Selected disk size: "
MSG[user_size]="How many GB to allocate for %s: "
MSG[remaining]="%s left"
MSG[error_size]="Sum of specified sizes exceeds disk size!"
MSG[creating_partitions]="Creating partition table..."
MSG[formatting]="Formatting partitions..."
MSG[creating_user]="Creating user "
MSG[user_exists]="User already exists."
MSG[fstab_exists]="fstab entry already exists, skipping."
MSG[fstab_added]="fstab: added entry for "
MSG[done_disks_users]="Operation completed. Disks mounted, users configured."
MSG[restore_hint]="To restore user data, use rsync-restore-userdata.sh"
MSG[mountpoint_exists]="The mount point already exists, it will be created: %s"
MSG[uuid_exists]="UUID %s already exists in /etc/fstab"
MSG[script_restart]="This script requires administrator rights. Restart via sudo..."
MSG[select_disk]="Enter the number to select the disk: "
MSG[create_second_user]="Do you want to create a second user (USER2)? (y/n): "
MSG[second_user_name]="Enter the second user's name: "
MSG[be_second_user]="The second user will be: %s"
MSG[no_second_user]="The second user is not created."
MSG[create_third_user]="Do you want to create a third user (USER3)? (y/n): "
MSG[third_user_name]="Enter the third user name: "
MSG[be_third_user]="The third user will be: %s"
MSG[no_third_user]="The third user is not created."
MSG[pause]="Pause. Press Enter to continue..." 
MSG[only_user]="You, %s, are the only user of disk %s."
MSG[existing_partition_size]="Enter the partition size for the user %s, GB: "
MSG[second_partition_size]="Enter the partition size for user %s, GB: "
MSG[third_partition_size]="Enter the partition size for user %s, GB: "
MSG[create_existing_partition]="Creating a partition for user %s"
MSG[done_fs]="Done: File system %s for user %s"
MSG[fs_failed]="Failed to create file system %s for user %s"
MSG[create_second_partition]="Creating a partition for user %s"
MSG[create_third_partition]="Creating a partition for user %s"
MSG[var_empty]="HDD variable is empty!"
MSG[no_found_holding]="No processes were found holding the disk."
MSG[term_holding_processes]="Processes holding disk: %s terminated"   
MSG[disk_busy]="Disk %s is still busy, cannot continue"
MSG[invalid_size]="Invalid size: %s"
MSG[no_write_usb]="USB drive, do not write to /etc/fstab"
MSG[freeing_disk]="Freeing up disk %s..."
MSG[part_mounted]="The /mnt/storage partition is mounted - run setup-symlinks.sh"
MSG[no_part_mounted]="Partition /mnt/storage is not mounted, skipping setup-symlinks.sh"

# menu.sh
MSG[main_menu]="Main Menu"
MSG[backup]="Backup"
MSG[restore]="Restore"
MSG[cron_jobs]="Manage cron jobs"
MSG[media]="Media"
MSG[tools]="Tools"
MSG[logs]="View Logs"
MSG[settings]="Settings"
MSG[exit]="Exit"
MSG[selected]="Selected:"
MSG[incorrect_choice]="Incorrect choice, please try again"
MSG[no_logs]="No logs found."
MSG[install_ranger]="Ranger not found, installing..."
MSG[failed_ranger]="Failed to install ranger, falling back to ls"
MSG[sel_opt]=" Select an option: "
MSG[invalid_choice]="Invalid choice, try again."
MSG[back_main]=" 0) Back to main menu"
MSG[enter_time]="Enter time (HH:MM): "
MSG[enter_user]="Enter username: "
MSG[cron_backup_menu]="   4) Incremental backup of user data via cron (schedule)"
MSG[menu_cron]=" 1) Incremental backup of user data via cron (schedule)"
MSG[cron_backup]="   4) Incremental userdata backup via cron (scheduled)"
MSG[cron_backup_installed]="Cron backup installed."
MSG[cron_job_installed]="Cron job installed."
MSG[empty_entered]="Empty values entered."
MSG[press_continue]="Press Enter to continue..."
MSG[press_return]="Press Enter to return..."
MSG[list_logs]="You will see a list of log files"
MSG[in_ranger]=" in the ranger console browser."
MSG[sel_file]=" - Select a file and press Enter to view the file in nano editor."
MSG[exit_file]=" - Press CTRL+X to Exit the nano."
MSG[exit_ranger]=" - Press q to exit ranger."
MSG[run_return]=" Press Enter to run ranger... or type q to return: "
MSG[return_menu]="Return to menu..."
MSG[lang_not]="Language selection is not yet implemented"
MSG[backupdir_not]="Backup directory configuration is not yet implemented"
MSG[checkcuda_not]="Script check-cuda-tools.sh not found or not executable."
MSG[adding_cron]="Adding cron job: %s for %s"
MSG[backup_system]="   1) Incremental Backup system packages, repos & keyrings"
MSG[userdata_backup]="   2) Incremental userdata backup"
MSG[userdata]=" Userdata:"
MSG[full_backup]="   3) Full userdata backup (--fresh)"
MSG[system]=" System (%s %s):"
MSG[backup_options]="               BACKUP OPTIONS"
MSG[restore_packeages]="   1) Incremental Restore packages (manual / full / none)"
MSG[restore_manual]="   2) Incremental Restore manual"
MSG[restore_userdata]="   3) Incremental Restore userdata"
MSG[restore_options]="               RESTORE OPTIONS"
MSG[manage_cron]="        MANAGE CRON BACKUP JOBS"
MSG[menu_media]="                MEDIA"
MSG[menu_tools]="                TOOLS"
MSG[log_files]="                LOG FILES"
MSG[menu_settings]="                SETTINGS"
MSG[menu_archive]=" ARCHIVE:"
MSG[menu_system]=" SYSTEM:"
MSG[clean_backup_logs]=" 2) Clean backup logs"
MSG[remove_cron_task]=" 3) Remove cron task"
MSG[install_nvidia]=" 1) Installs NVIDIA and CUDA drivers"
MSG[checks_gpu]=" 2) Checks GPU availability for Shotcut"
MSG[install_flatpak]=" 3) Install media tools via Flatpak"
MSG[install_apt]=" 4) Install media tools via APT"
MSG[last_archive]="   1) Check last archive"
MSG[system_mounts]="   2) Show system mounts"
MSG[hdd_setup]="   3) HDD setup profiles"
MSG[setup_symlinks]="   4) Setup symlinks"
MSG[manage_cuda]=" 3) Manage CUDA Toolkit"
MSG[backup_directories]=" 2) Set backup directories [TODO]"
MSG[change_language]=" 1) Change language (RU/EN)"
MSG[cron_installed]="Cron job has completed"
MSG[apt_installed]="Media Tools (APT) installed successfully."
MSG[apt_busy]="apt is currently busy with another process."
MSG[installation_error]="Installation error (code %s)."
MSG[returned_main_menu]="Returned to the main menu."
MSG[returned_menu]="Returned to the menu."

# setup-symlinks.sh
MSG[start_symlinks]="Starting to configure symbolic links"
MSG[link_created]="Link created: %s → %s"
MSG[link_replaced]="Link updated: %s → %s"
MSG[link_skipped]="Link skipped: %s"
MSG[done_symlinks]="Symbolic link configuration complete"
MSG[link_ok]="Link is correct: %s → %s"
MSG[confirm_replace]="Wont replace link $s"
MSG[link_conflict]=""

# show-system-mounts.sh
MSG[physical_disks]="===== Information about physical disks ====="
MSG[mounts_header]="===== List of mount points ====="
MSG[symlinks_header]="===== Symbolic links in %s ====="
MSG[crontab_header]="===== Crontab entries ====="

# remove-cron-backup.sh
MSG[removed_root]="Cron jobs removed from root crontab."
MSG[removed_user]="Cron jobs removed from user %s crontab."
MSG[before]="Crontab BEFORE removal:"
MSG[after]="Crontab AFTER removal:"
MSG[err_read]="Failed to read crontab for user %s (permission?)"
MSG[crontab_empty]="No cron jobs found."

